@inherits LayoutComponentBase
@inject NavigationManager Nav

<MudThemeProvider Theme="_theme">
    <MudLayout>
        <MudAppBar Color="Color.Primary">
            <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="ToggleDrawer" />
            <MudText Typo="Typo.h6" Class="ml-2">–ì–æ—Å—É—Å–ª—É–≥–∏</MudText>
            <MudSpacer />
            <MudMenu Icon="@Icons.Material.Filled.AccountCircle">
                <MudMenuItem OnClick="@(() => Nav.NavigateTo("/profile"))">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</MudMenuItem>
                <MudMenuItem OnClick="@(() => Nav.NavigateTo("/logout"))">–í—ã–π—Ç–∏</MudMenuItem>
            </MudMenu>
        </MudAppBar>

        <MudDrawer @bind-Open="_drawerOpen" Variant="DrawerVariant.Responsive" Elevation="1" Class="pa-0">
            <MudNavMenu>
                <MudNavGroup Text="üìÑ –ó–∞—è–≤–ª–µ–Ω–∏—è">
                    <MudNavLink Href="applications">–ó–∞—è–≤–ª–µ–Ω–∏—è</MudNavLink>
                    <MudNavLink Href="registryapplications">–†–µ–µ—Å—Ç—Ä –∑–∞—è–≤–ª–µ–Ω–∏–π</MudNavLink>
                    <MudNavLink Href="registryrdzorders">–†–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏—è –†–î–ó</MudNavLink>
                    <MudNavLink Href="registryrdiorders">–†–∞—Å–ø–æ—Ä—è–∂–µ–Ω–∏—è –†–î–ò</MudNavLink>
                </MudNavGroup>
                <MudNavLink Href="documents">üìë –î–æ–∫—É–º–µ–Ω—Ç—ã</MudNavLink>
                <MudNavLink Href="users">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Ä–æ–ª–∏</MudNavLink>
                <MudNavLink Href="settings">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</MudNavLink>
                <MudNavLink Href="reports">üìä –û—Ç—á—ë—Ç—ã</MudNavLink>
                <MudNavLink Href="ai">üß† –ò–ò</MudNavLink>
            </MudNavMenu>
        </MudDrawer>

        <MudMainContent>
            <MudContainer Class="mt-4 px-4">
                @Body
            </MudContainer>
        </MudMainContent>
    </MudLayout>
</MudThemeProvider>

@code {
    private bool _drawerOpen;

    // TODO: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ–º—É MudBlazor
    private MudTheme _theme = new MudTheme();

    void ToggleDrawer() => _drawerOpen = !_drawerOpen;
}
