@page "/outgoing/{applicationId:int}"
@inject IOutgoingApiClient ApiClient

<div class="container p-4">
    <h1>Исходящие документы</h1>
    <SfGrid DataSource="@items" AllowPaging="true" PageSettings="new PageSettings{PageSize=10}" Width="100%">
        <GridColumns>
            <GridColumn Field=@nameof(OutgoingDocumentDto.Id) HeaderText="ID" Width="70" TextAlign="TextAlign.Center" IsPrimaryKey="true" />
            <GridColumn Field=@nameof(OutgoingDocumentDto.FileName) HeaderText="Файл" Width="*" />
            <GridColumn Field=@nameof(OutgoingDocumentDto.Date) HeaderText="Дата" Format="d" Width="120" />
        </GridColumns>
    </SfGrid>
</div>

@code {
    [Parameter] public int applicationId { get; set; }
    List<OutgoingDocumentDto> items = new();

    protected override async Task OnParametersSetAsync()
    {
        items = await ApiClient.GetByApplicationIdAsync(applicationId);
    }
}
