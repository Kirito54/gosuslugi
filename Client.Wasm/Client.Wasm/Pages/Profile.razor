@attribute [Authorize]
@page "/profile"

@using Client.Wasm.DTOs
@inject IJSRuntime Js
@inject NavigationManager NavigationManager
@inject ISnackbar Snackbar
<div class="container p-4">
    <MudCard Class="mb-4">
        <MudCardHeader>
            <MudText Typo="Typo.h5">Профиль</MudText>
        </MudCardHeader>
        <MudCardContent>
            <EditForm Model="model" OnValidSubmit="OnSave">
                <DataAnnotationsValidator />
                <ValidationSummary />
                <MudTextField @bind-Value="model.FullName" Placeholder="ФИО" Class="mb-3 w-100" />
                <MudTextField @bind-Value="model.Email" Placeholder="Email" Class="mb-3 w-100" />
                <MudButton Type="Submit" Color="Color.Primary">Сохранить</MudButton>
            </EditForm>
        </MudCardContent>
    </MudCard>
</div>

@code {
    ProfileModel model = new();

    async Task OnSave()
    {
        // TODO: реализовать логику сохранения профиля
        Snackbar.Add("Профиль сохранён", Severity.Success);
    }

    class ProfileModel
    {
        [Required]
        public string FullName { get; set; } = string.Empty;
        [Required, EmailAddress]
        public string Email { get; set; } = string.Empty;
    }
}
